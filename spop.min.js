/*!
 * smallPop 0.1.1 | https://github.com/silvio-r/spop
 * Copyright (c) 2015 SÃ­lvio Rosa @silvior_
 * MIT license
 */
!function(){"use strict";function t(t,o){return"string"==typeof t?(o||document).getElementById(t):t||null}function o(t,o){t.classList?t.classList.remove(o):t.className=t.className.replace(new RegExp("(^|\\b)"+o.split(" ").join("|")+"(\\b|$)","gi")," ")}function e(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e]);return t}var s,i,p,n,r,l,c,h,u,a=390,d=function(o,n){if(s=this,this.defaults={template:null,style:"info",autoclose:!1,position:"top-right",icon:!0,group:!1,onOpen:!1,onClose:!1},p=e(this.defaults,spop.defaults),"string"==typeof o||"string"==typeof n)i={template:o,style:n||p.style};else{if("object"!=typeof o)return console.error("Invalid arguments."),!1;i=o}this.opt=e(p,i),t("spop--"+this.opt.group)&&this.remove(t("spop--"+this.opt.group)),this.open()};d.prototype.create=function(o){n=t(this.getPosition("spop--",this.opt.position)),r=this.opt.icon?'<i class="spop-icon '+this.getStyle("spop-icon--",this.opt.style)+'"></i>':"",l='<div class="spop-close" data-spop="close" aria-label="Close">&times;</div>'+r+'<div class="spop-body">'+o+"</div>",n||(this.popContainer=document.createElement("div"),this.popContainer.setAttribute("class","spop-container "+this.getPosition("spop--",this.opt.position)),this.popContainer.setAttribute("id",this.getPosition("spop--",this.opt.position)),document.body.appendChild(this.popContainer),n=t(this.getPosition("spop--",this.opt.position))),this.pop=document.createElement("div"),this.pop.setAttribute("class","spop spop--out spop--in "+this.getStyle("spop--",this.opt.style)),this.opt.group&&"string"==typeof this.opt.group&&this.pop.setAttribute("id","spop--"+this.opt.group),this.pop.setAttribute("role","alert"),this.pop.innerHTML=l,n.appendChild(this.pop)},d.prototype.getStyle=function(t,o){return c={success:"success",error:"error"},t+(c[o]||"info")},d.prototype.getPosition=function(t,o){return h={"top-left":"top-left","top-center":"top-center","top-right":"top-right","bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right"},t+(h[o]||"top-right")},d.prototype.open=function(){this.create(this.opt.template),this.opt.onOpen&&this.opt.onOpen(),this.close()},d.prototype.close=function(){s=this,this.opt.autoclose&&"number"==typeof this.opt.autoclose&&(this.autocloseTimer=setTimeout(this.remove.bind(null,this.pop),this.opt.autoclose)),this.pop.addEventListener("click",this.addListeners.bind(this),!1)},d.prototype.addListeners=function(t){u=t.target.getAttribute("data-spop"),"close"===u&&(this.autocloseTimer&&clearTimeout(this.autocloseTimer),this.remove(this.pop))},d.prototype.remove=function(t){o(t,"spop--in"),setTimeout(function(){document.body.contains(t)&&t.parentNode.removeChild(t),s.opt.onClose&&s.opt.onClose()},a)},window.spop=function(t,o){return t&&window.addEventListener?new d(t,o):!1},spop.defaults={}}();